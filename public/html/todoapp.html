<meta charset="utf-8">
<div class="app-container">
    <div class="clearfix">
        <h1 class="col-lg-8">TodoApplikation (AngularJS)</h1>

        <div class="col-lg-4 well well-sm" style="margin-bottom: 0px; margin-top: 5px;">
            <div class="media">
                <a class="thumbnail pull-left">
                    <span class="glyphicon glyphicon-user "></span>
                </a>

                <div class="media-body">
                    <h4 class="media-heading">
                        {{currentUser.username}} <a class="btn btn-xs btn-default pull-right" ng-click="User.logout()">loggout</a>
                    </h4>
                    {{currentUser.firstName}} {{currentUser.lastName}}
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div class="panel panel-info">
        <div class="panel-heading clearfix">
            <h3 class="panel-title pull-left">
                <strong>Zu Erledigen</strong>
            </h3>
            <span class="pull-right">Anzahl: {{notDoneToDos.length}}</span>
        </div>
        <table class="table table-striped panel-body">
            <tr>
                <td colspan="2">
                    <form ng-submit="addToDo(toDoAdd)" style="margin-bottom: 0px">
                        <div class="row">
                            <div class="col-lg-10">
                                <input class="form-control" type="text"
                                       ng-model="toDoAdd.description" placeholder="Beschreibung ToDo"/>
                            </div>
                            <div class="col-lg-2">
                                <button type="submit" class="btn btn-default pull-right">hinzuf√ºgen</button>
                            </div>
                        </div>
                    </form>
                </td>
            </tr>
            <tr ng-repeat="notDoneToDo in allToDos | filter:filterNotDone as notDoneToDos">
                <td ng-hide="notDoneToDo.editing"
                    ng-click="notDoneToDo.editing = true" class="col-lg-10">
                    <div class="editable-field">
                        {{notDoneToDo.description}} <span
                            class="glyphicon glyphicon-pencil pull-right"></span>
                    </div>
                </td>
                <td ng-show="notDoneToDo.editing" class="col-lg-10"><input
                        ng-model="notDoneToDo.description"
                        ng-enter="updateToDo(notDoneToDo)"
                        ng-blur="updateToDo(notDoneToDo)"
                        autofocus-when="notDoneToDo.editing" ng-required
                        class="form-control" type="text"/>
                </td>
                <td class="col-lg-2 text-right"><span
                        ng-click="notDoneToDo.done = true;updateToDo(notDoneToDo)"
                        class="icon icon-done glyphicon glyphicon-ok"></span> <span
                        ng-click="deleteToDo(notDoneToDo)"
                        class="icon icon-delete glyphicon glyphicon-trash"></span></td>
            </tr>
        </table>
    </div>
    <div class="panel panel-success">
        <div class="panel-heading clearfix">
            <h3 class="panel-title pull-left">
                <strong>Erledigt</strong>
            </h3>
            <span class="pull-right">Anzahl: {{doneToDos.length}}</span>
        </div>
        <table class="table table-striped panel-body">
            <tr ng-repeat="doneToDo in allToDos | filter:filterDone as doneToDos">
                <td class="col-lg-10">{{doneToDo.description}}</td>
                <td class="col-lg-2 text-right"><span
                        ng-click="doneToDo.done = false;updateToDo(doneToDo)"
                        class="icon icon-undone glyphicon glyphicon-remove"></span> <span
                        ng-click="deleteToDo(doneToDo,$index)"
                        class="icon icon-delete glyphicon glyphicon-trash"></span></td>
            </tr>
        </table>
    </div>
</div>
<div class="app-footer">
    <a href="#/services">Rest Services</a><span class="pull-right">&copy;
    2015</span>
</div>